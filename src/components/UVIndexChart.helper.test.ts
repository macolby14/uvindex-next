import { test, expect } from "vitest";
import {
  IRawUvData,
  parseRawUvData,
  removeInvalidData,
} from "./UVIndexChart.helper";

const exampleGoodRawData: IRawUvData[] = [
  {
    ORDER: 1,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 01 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 2,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 02 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 3,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 03 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 4,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 04 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 5,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 05 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 6,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 06 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 7,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 07 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 8,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 08 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 9,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 09 AM",
    UV_VALUE: 2,
  },
  {
    ORDER: 10,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 10 AM",
    UV_VALUE: 4,
  },
  {
    ORDER: 11,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 11 AM",
    UV_VALUE: 6,
  },
  {
    ORDER: 12,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 12 PM",
    UV_VALUE: 7,
  },
  {
    ORDER: 13,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 01 PM",
    UV_VALUE: 6,
  },
  {
    ORDER: 14,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 02 PM",
    UV_VALUE: 5,
  },
  {
    ORDER: 15,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 03 PM",
    UV_VALUE: 3,
  },
  {
    ORDER: 16,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 04 PM",
    UV_VALUE: 1,
  },
  {
    ORDER: 17,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 05 PM",
    UV_VALUE: 0,
  },
  {
    ORDER: 18,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 06 PM",
    UV_VALUE: 0,
  },
  {
    ORDER: 19,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 07 PM",
    UV_VALUE: 0,
  },
  {
    ORDER: 20,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 08 PM",
    UV_VALUE: 0,
  },
  {
    ORDER: 21,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/02/2024 09 PM",
    UV_VALUE: 0,
  },
];

const exampleBadRawData: IRawUvData[] = [
  {
    ORDER: 1,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 01 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 2,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 02 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 3,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 03 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 4,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 04 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 5,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 05 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 6,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 06 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 7,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 07 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 8,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 08 AM",
    UV_VALUE: 0,
  },
  {
    ORDER: 9,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 09 AM",
    UV_VALUE: 2,
  },
  {
    ORDER: 10,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 10 AM",
    UV_VALUE: 4,
  },
  {
    ORDER: 11,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 11 AM",
    UV_VALUE: 6,
  },
  {
    ORDER: 12,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 12 PM",
    UV_VALUE: 8,
  },
  {
    ORDER: 13,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Nov/01/2024 01 PM",
    UV_VALUE: 8,
  },
  {
    ORDER: 14,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Oct/31/2024 02 PM",
    UV_VALUE: 6,
  },
  {
    ORDER: 15,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Oct/31/2024 03 PM",
    UV_VALUE: 4,
  },
  {
    ORDER: 16,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Oct/31/2024 04 PM",
    UV_VALUE: 2,
  },
  {
    ORDER: 17,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Oct/31/2024 05 PM",
    UV_VALUE: 1,
  },
  {
    ORDER: 18,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Oct/31/2024 06 PM",
    UV_VALUE: 0,
  },
  {
    ORDER: 19,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Oct/31/2024 07 PM",
    UV_VALUE: 0,
  },
  {
    ORDER: 20,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Oct/31/2024 08 PM",
    UV_VALUE: 0,
  },
  {
    ORDER: 21,
    ZIP: "96734",
    CITY: "Kailua",
    STATE: "HI",
    DATE_TIME: "Oct/31/2024 09 PM",
    UV_VALUE: 0,
  },
];

test("Good data isn't filtered out", () => {
  const filteredData = removeInvalidData(parseRawUvData(exampleGoodRawData));
  expect(filteredData).toHaveLength(exampleGoodRawData.length);
});

test("Out of order data is filtered out", () => {
  const NUMBER_INORDER_POINTS = 13;
  const filteredData = removeInvalidData(parseRawUvData(exampleBadRawData));
  expect(filteredData).toHaveLength(NUMBER_INORDER_POINTS);
});
